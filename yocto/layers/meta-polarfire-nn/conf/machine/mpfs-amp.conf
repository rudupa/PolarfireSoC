# SPDX-License-Identifier: MIT
# PolarFire SoC AMP machine definition extending the vendor mpfs-disco-kit target.

require ${@bb.utils.which(d.getVar('BBPATH'), 'conf/machine/mpfs-disco-kit.conf')}

MACHINEOVERRIDES =. "mpfs-amp:"

# Shared memory carve-out used by Linux/Zephyr OpenAMP mailboxes.
AMP_SHARED_MEM_BASE ?= "0xB8000000"
AMP_SHARED_MEM_SIZE ?= "0x00200000"

# Hart assignment helper variables consumed by recipes and scripts.
AMP_LINUX_HART ?= "u54_0 u54_1"
AMP_RTOS_HARTS ?= "u54_2 u54_3"
AMP_QNX_HART ?= "u54_2"
AMP_ZEPHYR_HART ?= "u54_3"

# Force Microchip kernel + U-Boot providers from meta-mchp.
PREFERRED_PROVIDER_virtual/kernel ?= "linux-microchip"
PREFERRED_PROVIDER_virtual/bootloader ?= "u-boot-microchip"

SERIAL_CONSOLE ?= "115200 ttyS0"
